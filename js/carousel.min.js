!function(t,i){var e=function(i){this.$ele=i,this.$lis=this.$ele.find("ul li"),this.$imgs=this.$ele.find("img"),this.$nav=this.$ele.find("div"),this.$spans=this.$ele.find("div span"),this.current_index=0,this.next_index=0,this.prev_index=0,this.isAnimate=!1,this.defaults={autoplay:!0,duration:1e3,delay:5e3,nav:!1},t.extend(this.defaults,this.getSetting()),this.setSetting(),this.move(),this.autoplay()};e.prototype={getSetting:function(){var i=this.$ele.attr("data-setting");return i&&""!=i?t.parseJSON(i):{}},setSetting:function(){var t=this.$imgs.eq(0).height();this.$ele.css({height:t}),this.defaults.nav?this.$nav.css("display","block"):this.$nav.css("display","none")},move:function(){var t=this,i=startY=0;this.$ele[0].addEventListener("touchstart",function(t){var e=t.touches[0];i=e.pageX,startY=e.pageY},!1),this.$ele[0].addEventListener("touchmove",function(e){var s=e.touches[0],n=s.pageX,h=s.pageY,a=n-i,r=h-startY;0>a&&Math.abs(a)>Math.abs(r)?t.moveLeft():a>0&&Math.abs(a)>Math.abs(r)&&t.moveRight()},!1)},moveLeft:function(){var t=this;return this.isAnimate?!1:(this.isAnimate=!0,this.next_index=this.current_index+1,this.next_index=this.next_index>=this.$lis.length?0:this.next_index,this.$lis.eq(this.current_index).animate({left:"-100%"},this.defaults.duration),this.$lis.eq(this.next_index).css({left:"100%","z-index":10}).animate({left:0},this.defaults.duration,function(){t.isAnimate=!1}),this.current_index++,this.current_index=this.current_index>=this.$lis.length?0:this.current_index,void this.$spans.removeClass("current").eq(this.current_index).addClass("current"))},moveRight:function(){var t=this;return this.isAnimate?!1:(this.isAnimate=!0,this.prev_index=this.current_index-1,this.prev_index=this.next_index<0?this.$lis.length-1:this.prev_index,this.$lis.eq(this.current_index).animate({left:"100%"},this.defaults.duration),this.$lis.eq(this.prev_index).css({left:"-100%","z-index":10}).animate({left:0},this.defaults.duration,function(){t.isAnimate=!1}),this.current_index--,this.current_index=this.current_index<0?this.$lis.length-1:this.current_index,void this.$spans.removeClass("current").eq(this.current_index).addClass("current"))},autoplay:function(){var t=this;this.defaults.autoplay&&i.setInterval(function(){t.moveLeft()},t.defaults.delay)}},e.init=function(i){var e=this;i.each(function(){new e(t(this))})},i.Carousel=e}(jQuery,window,document);